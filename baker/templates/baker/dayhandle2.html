{% extends 'base_baker.html' %}
{% block title %} ::일자별 수량 관리:: {% endblock %}
{% block content %}

<style>
    .calendar{
      width: 100%;
      border: double #bf7f7f;
      border-radius: 3px;
    }

    #calendar_header{
      text-align: center;
      background-color: #f7f1f1cb;
      height: 20px;
      border-bottom: 2px solid #bf7f7f;
    }

    .calendar_prev, .calendar_next{
        font-size: 1.5em;
    }

    .calendar_year_month{
      height: 90px;
      font-size: 1.3em;
    }

    .main_calendar {
      border-collapse: collapse;
      width:100%;
    }

    #calendar_weekday{
      vertical-align: middle;
      text-align: center;
      height: 30px;
      font-size: 1.1em;
      border-bottom: double #bf7f7f;
    }

    .main_wrap {
        padding: 6% 6%;
    }

    .main_calendar td:nth-child(1){color: #ff6e6e;}
    .main_calendar td:nth-child(7){color: #705bfc;}

    .main_calendar tr:not(:nth-child(1)):not(:nth-child(2)){
      font-size: 15px;
      text-align: center;
      height: 90px;
      vertical-align: top;
      background-color: #f9f9f9cd;
    }

    .main_calendar tr:not(:nth-child(1)):not(:nth-child(2)):not(:last-child)>td{
        font-size:15px;
        border-bottom: double #bf7f7f;
    }

     .main_calendar tr:not(:nth-child(1))>td:not(:last-child){
        border-right: 1px solid #bf7f7f;
    }

    .main_calendar tr:not(:nth-child(1)):not(:nth-child(2))>td>div{
        margin-left: 10%;
        float: left;
    }

    td{
        display: table-cell !important;
        vertical-align:middle !important;
    }


</style>

<script language="javascript">
    var date = new Date();
    var today = new Date();
    var year = today.getFullYear();
    var month = today.getMonth();
    var day = today.getDay();
    month += 1;
    function dayy(year, month){ //월의 일수를 구함
        switch(month){
            case 1: case 3: case 5: case 7: case 8: case 10: case 12:
            return 31;

            case 4: case 6: case 9: case 11:
            return 30;

            case 2:
            if(((year%400)==0||(year%4)==0&&(year%100)!=0)){
                return 29;
            }
            else{
                return 28;
            }
        }
    }
    function prevmonth(){ //이전 월로 가는 함수
        var ymda = document.getElementById("prev");
        var yg = document.getElementById("Ymd");
        month--; //month를 계속 감소시켜준다
        if(month < 1){ // month가 1보다 작아지면
            month = 12; // month를 12로 만들어줌
            year -= 1; //year를 1 감소시켜준다
        }

        if(date.getMonth()==0){
            if(year<date.getFullYear()){
                alert("현재 시점에서 이전 달은 보여지지 않습니다!");
                month=date.getMonth()+1;
                year=date.getFullYear();
            }
        }
        else{
            if(month<=date.getMonth())
                alert("현재 시점에서 이전 달은 보여지지 않습니다!");
                month=date.getMonth()+1;
        }
        var ymda = year + "년" +" "+ (month)+"월";
        present();
    }
    function nextmonth(){  //다음 월로 가는 함수
        var ymda = document.getElementById("next");
        var yg = document.getElementById("Ymd");
        month++; //month 를 계속 증가시켜줌
        if(month > 12){ //만약 month가 12를 넘어가면
            month = 1; // month를 1로 만듦
            year += 1; //year을 1 증가시켜준다
        }
        if(date.getMonth()==10){ //이번 달이 11월이면,
<!--            if(year>date.getFullYear())-->
            if(month>date.getMonth()+1)
                alert("현재 시점만 보여집니다!");
                month=11;
        }
        else if(date.getMonth()==11){ //이번 달이 12월이면,
            if(year>date.getFullYear()&&month>1)
                alert("현재 시점만 보여집니다!");
                month=1;
                year=date.getFullYear()+1;
        }
        else{
            if(month>date.getMonth()+1)
                alert("현재 시점만 보여집니다!");
                month=date.getMonth()+1;
        }
        var ymda = year + "년" +" "+ month+"월";
        present(); //present()함수를 호출하여 다시 찍어줌
    }
    function present(){
        var start = new Date(year, month-1, 1);
        var ymda = document.getElementById("Ymd");
        var Tab = document.getElementById("tab");
        var day1 = document.getElementById('day1').innerHTML;
        var day2 = document.getElementById('day2').innerHTML;
        var day3 = document.getElementById('day3').innerHTML;
        var day4 = document.getElementById('day4').innerHTML;
        var day5 = document.getElementById('day5').innerHTML;
        var day6 = document.getElementById('day6').innerHTML;
        var day7 = document.getElementById('day7').innerHTML;
        var day8 = document.getElementById('day8').innerHTML;
        var day9 = document.getElementById('day9').innerHTML;
        var day10 = document.getElementById('day10').innerHTML;
        var day11 = document.getElementById('day11').innerHTML;
        var day12 = document.getElementById('day12').innerHTML;
        var day13 = document.getElementById('day13').innerHTML;
        var day14 = document.getElementById('day14').innerHTML;
        var day15 = document.getElementById('day15').innerHTML;
        var day16 = document.getElementById('day16').innerHTML;
        var day17 = document.getElementById('day17').innerHTML;
        var day18 = document.getElementById('day18').innerHTML;
        var day19 = document.getElementById('day19').innerHTML;
        var day20 = document.getElementById('day20').innerHTML;
        var day21 = document.getElementById('day21').innerHTML;
        var day22 = document.getElementById('day22').innerHTML;
        var day23 = document.getElementById('day23').innerHTML;
        var day24 = document.getElementById('day24').innerHTML;
        var day25 = document.getElementById('day25').innerHTML;
        var day26 = document.getElementById('day26').innerHTML;
        var day27 = document.getElementById('day27').innerHTML;
        var day28 = document.getElementById('day28').innerHTML;
        var day29 = document.getElementById('day29').innerHTML;
        var day30 = document.getElementById('day30').innerHTML;
        var day31 = document.getElementById('day31').innerHTML;

        var row = null;
        var cnt = 0;
        var row_count = 1;
        var ym = year + "년" +" "+ (month)+"월";
        ymda.innerHTML = ym;
        while(tab.rows.length >2){     //테이블의 행의 길이가 2보다 크면 테이블의 행 제거함.
            tab.deleteRow(tab.rows.length -1);
        }
        row = Tab.insertRow();
        for(var j = 0; j<start.getDay(); j++){ //달력의 시작 일 구함
            cell = row.insertCell();
            cnt+=1;
        }
        for(var i = 1; i<= dayy(year, month); i++){ //달력 일수만큼 찍어줌
            var cell = row.insertCell();
                if(year == date.getFullYear() && month-1 == date.getMonth()){
                    if(i == 1){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day1+"</a>"+"";}
                    else if(i == 2){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day2+"</a>";}
                    else if(i == 3){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day3+"</a>";}
                    else if(i == 4){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day4+"</a>";}
                    else if(i == 5){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day5+"</a>";}
                    else if(i == 6){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day6+"</a>";}
                    else if(i == 7){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day7+"</a>";}
                    else if(i == 8){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day8+"</a>";}
                    else if(i == 9){cell.innerHTML = "<div>"+i+"</div>"+"<br>"+"<a>"+day9+"</a>";}
                    else if(i == 10){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day10+"</a>";}
                    else if(i == 11){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day11+"</a>";}
                    else if(i == 12){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day12+"</a>";}
                    else if(i == 13){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day13+"</a>";}
                    else if(i == 14){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day14+"</a>";}
                    else if(i == 15){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day15+"</a>";}
                    else if(i == 16){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day16+"</a>";}
                    else if(i == 17){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day17+"</a>";}
                    else if(i == 18){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day18+"</a>";}
                    else if(i == 19){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day19+"</a>";}
                    else if(i == 20){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day20+"</a>";}
                    else if(i == 21){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day21+"</a>";}
                    else if(i == 22){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day22+"</a>";}
                    else if(i == 23){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day23+"</a>";}
                    else if(i == 24){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day24+"</a>";}
                    else if(i == 25){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day25+"</a>";}
                    else if(i == 26){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day26+"</a>";}
                    else if(i == 27){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day27+"</a>";}
                    else if(i == 28){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day28+"</a>";}
                    else if(i == 29){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day29+"</a>";}
                    else if(i == 30){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day30+"</a>";}
                    else if(i == 31){cell.innerHTML = "<div>"+i+"</div>"+"<a>"+day31+"</a>";}
                }


            cnt += 1;

            if(cnt%7 ==0){ //cnt가 7이면 행을 늘려줌
                row = tab.insertRow();
                row_count += 1;
            }

        }
        for(var k = 0; k < row_count*7 - cnt; k++){
            cell = row.insertCell();
        }
    }
</script>
<div class="row">
        <p class="pt-3 pl-4 path">가게 관리 > 일자별 수량 관리</p>
</div>
<div hidden>
        <div id="day1">
            {{dailyform.day1}}
        </div>
        <div id="day2">
            {{dailyform.day2}}
        </div>
        <div id="day3">
            {{dailyform.day3}}
        </div>
        <div id="day4">
            {{dailyform.day4}}
        </div>
        <div id="day5">
            {{dailyform.day5}}
        </div>
        <div id="day6">
            {{dailyform.day6}}
        </div>
        <div id="day7">
            {{dailyform.day7}}
        </div>
        <div id="day8">
            {{dailyform.day8}}
        </div>
        <div id="day9">
            {{dailyform.day9}}
        </div>
        <div id="day10">
            {{dailyform.day10}}
        </div>
         <div id="day11">
            {{dailyform.day11}}
        </div>
        <div id="day12">
            {{dailyform.day12}}
        </div>
        <div id="day13">
            {{dailyform.day13}}
        </div>
        <div id="day14">
            {{dailyform.day14}}
        </div>
        <div id="day15">
            {{dailyform.day15}}
        </div>
        <div id="day16">
            {{dailyform.day16}}
        </div>
        <div id="day17">
            {{dailyform.day17}}
        </div>
        <div id="day18">
            {{dailyform.day18}}
        </div>
        <div id="day19">
            {{dailyform.day19}}
        </div>
        <div id="day20">
            {{dailyform.day20}}
        </div>
        <div id="day21">
            {{dailyform.day21}}
        </div>
        <div id="day22">
            {{dailyform.day22}}
        </div>
        <div id="day23">
            {{dailyform.day23}}
        </div>
        <div id="day24">
            {{dailyform.day24}}
        </div>
        <div id="day25">
            {{dailyform.day25}}
        </div>
        <div id="day26">
            {{dailyform.day26}}
        </div>
        <div id="day27">
            {{dailyform.day27}}
        </div>
        <div id="day28">
            {{dailyform.day28}}
        </div>
        <div id="day29">
            {{dailyform.day29}}
        </div>
        <div id="day30">
            {{dailyform.day30}}
        </div>
        <div id="day31">
            {{dailyform.day31}}
        </div>
<!--        <div id="day32">-->
<!--            {{dailyform.day32}}-->
<!--        </div>-->
<!--        <div id="day33">-->
<!--            {{dailyform.day33}}-->
<!--        </div>-->
<!--        <div id="day34">-->
<!--            {{dailyform.day34}}-->
<!--        </div>-->
<!--        <div id="day35">-->
<!--            {{dailyform.day35}}-->
<!--        </div>-->
<!--        <div id="day36">-->
<!--            {{dailyform.day36}}-->
<!--        </div>-->
<!--        <div id="day37">-->
<!--            {{dailyform.day37}}-->
<!--        </div>-->
<!--        <div id="day38">-->
<!--            {{dailyform.day38}}-->
<!--        </div>-->
<!--        <div id="day39">-->
<!--            {{dailyform.day39}}-->
<!--        </div>-->
<!--        <div id="day40">-->
<!--            {{dailyform.day40}}-->
<!--        </div>-->

<!--        <div id="day41">-->
<!--            {{dailyform.day41}}-->
<!--        </div>-->
<!--        <div id="day42">-->
<!--            {{dailyform.day42}}-->
<!--        </div>-->
<!--        <div id="day43">-->
<!--            {{dailyform.day43}}-->
<!--        </div>-->
<!--        <div id="day44">-->
<!--            {{dailyform.day44}}-->
<!--        </div>-->
<!--        <div id="day45">-->
<!--            {{dailyform.day45}}-->
<!--        </div>-->
<!--        <div id="day46">-->
<!--            {{dailyform.day46}}-->
<!--        </div>-->
<!--        <div id="day47">-->
<!--            {{dailyform.day47}}-->
<!--        </div>-->
<!--        <div id="day48">-->
<!--            {{dailyform.day48}}-->
<!--        </div>-->
<!--        <div id="day49">-->
<!--            {{dailyform.day49}}-->
<!--        </div>-->
<!--        <div id="day50">-->
<!--            {{dailyform.day50}}-->
<!--        </div>-->
<!--        <div id="day51">-->
<!--            {{dailyform.day51}}-->
<!--        </div>-->
<!--        <div id="day52">-->
<!--            {{dailyform.day52}}-->
<!--        </div>-->
<!--        <div id="day53">-->
<!--            {{dailyform.day53}}-->
<!--        </div>-->
<!--        <div id="day54">-->
<!--            {{dailyform.day54}}-->
<!--        </div>-->
<!--        <div id="day55">-->
<!--            {{dailyform.day55}}-->
<!--        </div>-->
<!--        <div id="day56">-->
<!--            {{dailyform.day56}}-->
<!--        </div>-->
<!--        <div id="day57">-->
<!--            {{dailyform.day57}}-->
<!--        </div>-->
<!--        <div id="day58">-->
<!--            {{dailyform.day58}}-->
<!--        </div>-->
<!--        <div id="day59">-->
<!--            {{dailyform.day59}}-->
<!--        </div>-->
<!--        <div id="day60">-->
<!--            {{dailyform.day60}}-->
<!--        </div>-->
<!--        <div id="day61">-->
<!--            {{dailyform.day61}}-->
<!--        </div>-->
<!--        <div id="day62">-->
<!--            {{dailyform.day62}}-->
<!--        </div>-->
</div>
<form method="POST">
    {% csrf_token %}
        <div class="main_wrap">
            <div class="calendar">
                <table class = "main_calendar" id ="tab">
                    <tr id="calendar_header">
                        <td class="calendar_prev" id="prev"><label class="calendar_label" onclick="prevmonth()" style="color:black;"><</td>
                        <td class="calendar_year_month" id="Ymd" colspan="5"></td>
                        <td class="calendar_next" id="next"><label class="calendar_label" onclick="nextmonth()" style="color:black;">></td>
                    </tr>
                    <tr id="calendar_weekday">
                        <td class="week_sun">일</td>
                        <td class="week_mon">월</td>
                        <td class="week_tue">화</td>
                        <td class="week_wed">수</td>
                        <td class="week_thu">목</td>
                        <td class="week_fri">금</td>
                        <td class="week_sat">토</td>
                    </tr>
                </table>
                <script type="text/javascript">
                    present();
                </script>
            </div>
        </div>
<div class="text-center" style="width:100%">
        <button type='submit' id="submit" class="btn btn-secondary" style="width: 120px; height: 35px;">등록</button>
</div>
</form>

{% endblock %}