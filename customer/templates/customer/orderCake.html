{% extends 'base_customer.html' %}

{% block content %}
   <div class="row">
        <p class="pt-3 pl-4 path">주문하기</p>
    </div>

    <style>
    #cream_circle {
        background-color:#ffffff;
        border:3px solid #000000;
        width:200px;
        height:200px;
        border-radius:100px;
        text-align:center;
        margin:0 auto;
        font-size:12px;
        vertical-align:middle;
        /* display: table-cell; */
        display: flex;
        justify-content: center;
        align-items: center;
        line-height:150px;
        }
    #cake_circle {
        background-color:#ffffff;
        border:1px solid #000000;
        width:160px;
        height:160px;
        border-radius:80px;
        text-align:center;
        margin:auto;
        font-size:12px; color:#fff;
        vertical-align:middle;
        /* display: inline-block; */
        display: flex;
        justify-content: center;
        align-items: center;
        line-height:100px;
    }
    #cake_letter {
        width:190px;
        height:190px;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;

        /* word-break: break-all; */
        /* border:5px solid #000000; */
    }

    #cake_letter_content{
        /* font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; */
        font-size: 40px;
        color: black;
        font-weight: bold;
    }

    table{
        width: 100%;
        height: 60%;
    }

    tr:first-child td:first-child{
        border-right: 2px solid red;
    }

    tr:first-child td:last-child{
        border-bottom: 2px solid red;
    }


    #cakeImg{
        width: 14rem;
        height: 14rem;
        object-fit: contain;
        border: 2px solid gray;
        border-radius: 3px;
    }

    #baker_msg{
        display: inline-block;
        border: 2px solid lightgray;
        border-radius: 3px;
        width: 16rem;
    }

    </style>


    <table>
        <tr style="width: 14rem;">
            <td rowspan="2" style="text-align: center;">
                <div class="mt-5 m-2">내가 선택한 디자인</div>
                <img id="cakeImg" class="m-2" src="/static/img/cake_img.jpg" alt="cake image">
                <div id="cakeInfo" class="m-2">
                    <div class="m-2" style="font-weight: bold;">{{cake.cakeName}}케이크 이름</div>
                    <span>가격 (1호 기준)</span>
                    <span>{{cake.cakePrice}}10000원</span>
                </div>
                <div class="mt-4 d-flex justify-content-around" style="font-weight: bold;">
                <span>사장님이 전하는 말</span>
                <span style="color: red;">※필독</span>
                </div>
                <span id="baker_msg" class="mt-2 p-2">
                    <pre>
                    </pre>
                </span>
            </td>
            <td>

            </td>
        </tr>
        <tr>
            <td>
                <p>케이크색상<input type="color" id="cake_color" value="#ffffff"></p>
                <p>크림색상<input type="color" id="cream_color" value="#ffffff"></p>
                <p>레터링</p>
                <p>
                    <span>색상<input type="color" id="letter_color" value="#ffffff"></span>
                    <span>크기<input type="number" id="letter_size" min="1" max="70"></span>
                </p>
                <input type="text" id="letter_content" placeholder="텍스트">
                <div id="cream_circle">
                    <div id="cake_circle">
                        <div id="cake_letter">
                            <div id="cake_letter_content" class="text-nowrap">
                                <!-- 여기다가 쓰면 됨  -->
                            </div>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
    </table>




    <!-- <div style="border: 1px solid black; position: relative; width:1000; height:1000;">
        <p>케이크색상</p><input type="color" id="cake_color" value="#ffffff">
        <canvas id="cake_form2"  width="1000" height="1000">
            <script>
                const canvas2 = document.querySelector("#cake_form2");
                const ctx2 = canvas2.getContext("2d");
                ctx2.beginPath();
                ctx2.arc(300,300,120,0,Math.PI*2,false);
                ctx2.lineWidth = 3;
                ctx2.fillStyle = "#ffffff";
                ctx2.fill();
                ctx2.stroke();
            </script>
        </canvas>
        <canvas id="cake_form1" width="1000" height="1000">
            <script>
            const canvas1 = document.querySelector("#cake_form1");
            const ctx1 = canvas1.getContext("2d");
            ctx1.beginPath();
            // 원그리기 : context.arc(x,y,반지름, 시작각도, 종료각도, 그리는 방향)
            ctx1.arc(300,300,60,0,Math.PI*2,false);
            ctx1.lineWidth = 3;
            ctx1.fillStyle = "red";
            ctx1.fill();
            ctx1.stroke();
            </script>
        </canvas>          -->
    </div>

    <script>
        $(function(){
            $("#cream_color").on('input', function(){
                // console.log($("#cream_color").val());
                var cream_color = $("#cream_color").val();
                document.getElementById('cream_circle').style.backgroundColor = cream_color;
            })
        })

        $(function(){
            $("#cake_color").on('input', function(){
                // console.log($("#cake_color").val());
                var cake_color = $("#cake_color").val();
                // ctx2.fillStyle = "cake_color";
                document.getElementById('cake_circle').style.backgroundColor = cake_color;
            })
        })

        $(function(){
            $("#letter_color").on('input', function(){
                console.log($("#letter_color").val());
                var letter_color = $("#letter_color").val();
                document.getElementById('cake_letter_content').style.color = letter_color;
            })
        })

        $(function(){
            $("#letter_size").on('input', function(){
                console.log($("#letter_size").val());
                var letter_size = $("#letter_size").val();
                document.getElementById('cake_letter_content').style.fontSize = letter_size+'px';
            })
        })

        $(function(){
            $("#letter_content").on('input', function(){
                cake_letter_content.innerHTML = letter_content.value;
            })
        })
    </script>
{% endblock %}